<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\Service;
use App\Models\ServiceTranslation;
use App\Models\User;
use App\Models\Language;
use Faker\Factory as Faker;

class ServiceSeeder extends Seeder
{
    public function run()
    {
        $faker = Faker::create();
        $user = User::first();
        $languages = Language::whereIn('code', ['en', 'ar'])->get();
        $pictures = [
            's1.jpeg',
            's2.png',
            's3.png',
            's4.jpg',
        ];

        $services = [
            'ar' => [
                [
                    'title' => 'عزل الأسطح من تسربات المياه في السعودية – حماية شاملة لمنزلك',
                    'slug' => 'عزل-الأسطح-من-تسربات-المياه-في-السعودية-حماية-شاملة-لمنزلك',
                    'subtitle' => 'نقدم خدمات عزل الأسطح ضد تسربات المياه باستخدام أفضل المواد المعتمدة.',
                    'description' => 'نوفر في تبريد الخليج خدمة عزل الأسطح باحترافية عالية باستخدام أفضل مواد العزل المناسبة لمناخ السعودية شديد الحرارة. نسعى لحماية منزلك من تسربات المياه ومن ارتفاع حرارة السقف اللي تسبب ضغط كبير على المكيفات. فريقنا يستخدم تقنيات حديثة تضمن توزيع المواد بشكل متساوٍ وتمنحك طبقة حماية قوية تدوم لسنوات طويلة بدون مشاكل. هدفنا نمنحك راحة داخلية أكبر، ونقلل فاتورة الكهرباء، ونحمي السقف من التآكل والتشققات. اختيارك لعزل الأسطح معنا هو استثمار ذكي يحافظ على منزلك ويزيد من عمره الافتراضي بشكل واضح.',
                    'content' => [
                        [
                            'title' => 'أهمية عزل الأسطح في مناخ السعودية',
                            'content' => '<p>تعاني معظم المنازل في المملكة من <strong>مشاكل تسربات المياه</strong> بسبب الأمطار والرطوبة العالية وارتفاع درجات الحرارة. يؤدي ذلك إلى تآكل السقف وظهور الرطوبة داخل المنزل. لذلك يوفر عزل الأسطح حماية طويلة الأمد تمنع وصول الماء وتحافظ على الهيكل الإنشائي.</p>'
                        ],
                        [
                            'title' => 'مواد العزل المستخدمة لدينا',
                            'content' => '<p>تعتمد رؤية الخليج على مواد عزل متنوعة مثل:</p><ul><li>العزل الأسمنتي.</li><li>العزل الإيبوكسي.</li><li>العزل باستخدام البولي يوريثان (PU Foam).</li><li>العوازل البيتومينية.</li></ul><p>جميع المواد مقاومة للحرارة والرطوبة وتتحمل الظروف الصعبة في السعودية.</p>'
                        ],
                        [
                            'title' => 'طريقة تنفيذ عزل السقف باحترافية',
                            'content' => '<p>نبدأ بتنظيف السقف ومعالجة الشقوق، ثم تطبيق طبقات العزل بطريقة هندسية تضمن توزيعًا صحيحًا للميول. بعدها نختبر العزل بالماء لمدة 24 ساعة لضمان عدم وجود أي تسريب.</p>'
                        ],
                        [
                            'title' => 'مميزات خدمة عزل الأسطح من رؤية الخليج',
                            'content' => '<p>نوفر ضمانًا مكتوبًا، استخدام مواد معتمدة، فريق متخصص، تنفيذ سريع، وأسعار مناسبة. هدفنا حماية منزلك من أي ضرر ناتج عن تسربات المياه.</p>'
                        ],
                        [
                            'title' => 'مشاريع قمنا بتنفيذها',
                            'content' => '<p>قمنا بتنفيذ عزل مئات الأسطح في الرياض وجدة والدمام، وكانت النتائج ممتازة في منع التسريب لفترات طويلة.</p>'
                        ]
                    ],
                    "meta_title" => "خدمات عزل الأسطح في السعودية - حماية فعالة ضد تسربات المياه",
                    "meta_description" => "احصل على أفضل خدمات عزل الأسطح لمنع تسربات المياه. مواد معتمدة وفريق متخصص بأسعار مناسبة.",
                    "meta_keywords" => "عزل الأسطح, تسربات المياه, عزل حراري, عزل مائي, السعودية",
                    "address" => "123 شارع العزل، الرياض، السعودية"
                ],
                [
                    'title' => 'عزل الخزانات الأرضية والعلوية في السعودية – حماية مضمونة للمياه والخزان',
                    'slug' => 'عزل-الخزانات-الأرضية-والعلوية-في-السعودية-حماية-مضمونة-للمياه-والخزان',
                    'subtitle' => 'نقدم حلول عزل الخزانات الأرضية والعلوية باستخدام مواد إيبوكسية آمنة.',
                    'description' => 'قدم خدمة عزل الخزانات بمستوى عالي من الجودة لضمان حماية كاملة من التسربات والحفاظ على المياه نظيفة وصالحة للاستخدام. نستخدم مواد معتمدة وآمنة 100% لا تتفاعل مع المياه، سواء في الخزانات الأرضية أو العلوية. فريق تبريد الخليج يركز على معالجة أي تشققات أو ضعف في الخرسانة قبل تنفيذ العزل بهدف تحقيق أعلى مستوى من الأمان. نحرص على تقديم عزل يمنع الرطوبة والعفن ويحمي الخزان من التلف على المدى الطويل. خدمتنا تضمن لك راحة وأمان وتوفر عليك تكاليف الإصلاح المستقبلية الناتجة عن التسربات أو تلوث المياه.',
                    'content' => [
                        [
                            'title' => 'لماذا تحتاج الخزانات إلى عزل؟',
                            'content' => '<p>الخزانات معرضة للتشققات نتيجة الضغط وارتفاع الحرارة، مما يؤدي لتسريب المياه وتلوثها. العزل الجيد يمنع التسرب ويحافظ على جودة المياه المستخدمة داخل المنزل.</p>'
                        ],
                        [
                            'title' => 'أنواع العزل المستخدمة في رؤية الخليج',
                            'content' => '<p>نستخدم مواد <strong>إيبوكسي FDA</strong> المعتمدة لصحة الإنسان، بالإضافة لعزل إسمنتي وبوليمري يمنع التفاعل مع الماء ويحافظ على الخزان من الداخل والخارج.</p>'
                        ],
                        [
                            'title' => 'خطوات عزل الخزان باحترافية',
                            'content' => '<p>نقوم بتنظيف الخزان، إزالة أي بكتيريا أو ترسبات، ثم معالجة الشقوق، وبعدها تطبيق مواد العزل الإيبوكسية بسمك مناسب لضمان أفضل تغطية.</p>'
                        ],
                        [
                            'title' => 'اختبار العزل وضمان الجودة',
                            'content' => '<p>بعد الانتهاء نجري اختبار ملء الخزان لمدة 48 ساعة للتأكد من عدم وجود أي تسريب، ثم نوفر ضمانًا مكتوبًا.</p>'
                        ],
                        [
                            'title' => 'متى يجب عليك عزل خزان منزلك؟',
                            'content' => '<p>إذا لاحظت تغيّر طعم المياه، ظهور رطوبة حول الخزان، أو نقص كمية المياه بدون سبب… فقد يكون الخزان بحاجة لعزل فوري.</p>'
                        ]
                    ],
                    "meta_title" => "عزل الخزانات الأرضية والعلوية في السعودية | عزل إيبوكسي معتمد – رؤية الخليج",
                    "meta_description" => "عزل الخزانات الأرضية والعلوية بمواد إيبوكسي معتمدة وطبقات حماية تمنع التسريب وتحافظ على جودة المياه.",
                    "meta_keywords" => "عزل الخزانات, عزل الخزانات الأرضية, عزل الخزانات العلوية, عزل إيبوكسي, السعودية",
                    "address" => "رؤية الخليج – خدمات عزل الخزانات في جميع مدن السعودية"
                ],

                [
                    'title' => 'كشف تسربات المياه بدون تكسير في السعودية – باستخدام أحدث أجهزة الاستشعار الحراري',
                    'slug' => 'كشف-تسربات-المياه-بدون-تكسير-في-السعودية-باستخدام-أحدث-أجهزة-الاستشعار-الحراري',
                    'subtitle' => 'كشف دقيق للتسربات بدون أي ضرر للجدران أو الأرضيات.',
                    'description' => 'نوفّر لك في تبريد الخليج خدمة كشف تسربات المياه بدون أي تكسير، باستخدام أحدث الأجهزة المعتمدة عالمياً. نقدر نحدد مكان التسرب بدقة عالية وبوقت قياسي، سواء في الجدران، الأسقف، أو خطوط المياه. تعتمد خدمتنا على تقنيات الفحص الحراري والصوتي لتقليل الخسائر ومنع انتشار الرطوبة اللي تسبب ضعف للجدران وارتفاع لفاتورة المياه. بعد الكشف نعطيك تقرير كامل عن المشكلة مع الحل الأنسب لمعالجتها. نهدف نحمي بيتك من التلف ونعالج المشكلة من جذورها قبل ما تتطور وتكلفك مبالغ كبيرة مستقبلاً.',
                    'content' => [
                        [
                            'title' => 'ما هي تقنية الكشف بدون تكسير؟',
                            'content' => '<p>تعتمد على التصوير الحراري وأجهزة الاستشعار التي تكشف مسار المياه داخل الجدران بدون هدم أو تكسير، مما يوفر الوقت والتكلفة ويعطي نتائج دقيقة 100%.</p>'
                        ],
                        [
                            'title' => 'أجهزة الكشف المستخدمة',
                            'content' => '<p>نستخدم أجهزة حرارية ألمانية، مجسات صوتية، أجهزة قياس ضغط المواسير، وكاميرات رطوبة عالية الحساسية لتحديد نقطة التسرب بدقة.</p>'
                        ],
                        [
                            'title' => 'علامات تدل على وجود تسرب في منزلك',
                            'content' => '<ul><li>ارتفاع فاتورة المياه بشكل غير طبيعي.</li><li>ظهور بقع رطوبة في السقف أو الجدران.</li><li>صوت مياه داخل الجدران.</li><li>ضعف ضخ المياه.</li></ul>'
                        ],
                        [
                            'title' => 'خطوات عملية الكشف',
                            'content' => '<p>نقوم بفحص الموقع، ثم استخدام أجهزة الحراري والصوتي لتتبع خط المواسير، وبعدها نحدد موقع التسريب ونقدم تقريرًا دقيقًا بالحلول المتاحة.</p>'
                        ],
                        [
                            'title' => 'الحلول المقترحة بعد الكشف',
                            'content' => '<p>قد يشمل الإصلاح: تغيير جزء صغير من المواسير، عمل حقن بوليمر، أو عزل موضعي بدون تكسير كبير. نختار الحل الأقل تكلفة والأسرع.</p>'
                        ]
                    ],
                    "meta_title" => "كشف تسربات المياه بدون تكسير في السعودية | أجهزة حرارية وصوتية دقيقة – رؤية الخليج",
                    "meta_description" => "كشف تسربات المياه بدون تكسير باستخدام أحدث الأجهزة الحرارية والصوتية. تشخيص دقيق وحلول إصلاح باحترافية.",
                    "meta_keywords" => "كشف تسربات المياه, كشف تسربات بدون تكسير, اجهزة حرارية, شركة كشف تسربات المياه",
                    "address" => "رؤية الخليج – خدمات كشف التسربات بأحدث التقنيات في السعودية"
                ],

            ],
            'en' => [
                [
                    'title' => $faker->sentence,
                    'slug' => $faker->unique()->sentence(),
                    'subtitle' => $faker->sentence,
                    'description' => $faker->sentence,
                    'content' => $faker->paragraphs(3, true),
                    "meta_title" => "",
                    "meta_description" => "",
                    "meta_keywords" => "",
                    "address" => "",
                ]
            ]
        ];
        for ($i = 0; $i < 3; $i++) {
            $service = Service::create([
                'picture' =>  'service_pictures/' . $pictures[$i],
                'is_featured' => true,
                'user_id' => $user->id,
            ]);

            foreach ($languages as $language) {
                $langCode = $language->code;
                ServiceTranslation::create([
                    'service_id' => $service->id,
                    'language_id' => $language->id,
                    'title' => $language->code === 'en'
                        ? $faker->unique()->sentence()
                        : $services['ar'][$i]['title'],
                    'subtitle' => $language->code === 'en'
                        ? $services['en'][0]['subtitle']
                        : $services['ar'][$i]['subtitle'],
                    'content' => $language->code === 'en'
                        ? $services['en'][0]['content']
                        : $services['ar'][$i]['content'],
                    'slug' => $language->code === 'en'
                        ? $faker->unique()->sentence()
                        : $services['ar'][$i]['slug'],
                    'meta_title' => $services['ar'][$i]['meta_title'],
                    'description' => $services['ar'][$i]['description'],
                    'meta_description' => $services['ar'][$i]['meta_description'],
                    'meta_keywords' => $services['ar'][$i]['meta_keywords'],
                    'address' => $services['ar'][$i]['address'],
                ]);
            }
        }
    }
}
