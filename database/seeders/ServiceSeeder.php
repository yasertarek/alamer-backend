<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\Service;
use App\Models\ServiceTranslation;
use App\Models\User;
use App\Models\Language;
use App\Models\Cats;
use Faker\Factory as Faker;

class ServiceSeeder extends Seeder
{
    public function run()
    {
        $faker = Faker::create();
        $user = User::first();
        $languages = Language::whereIn('code', ['en', 'ar'])->get();
        $pictures = [
            's1.jpeg',
            's2.png',
            's3.png',
            's4.jpg',
        ];
        $catsAll = Cats::all();

        $services = [
            'ar' => [
                [
                    'title' => 'عزل الأسطح من تسربات المياه في السعودية – حماية شاملة لمنزلك',
                    'slug' => 'عزل-الأسطح-من-تسربات-المياه-في-السعودية-حماية-شاملة-لمنزلك',
                    'subtitle' => 'نقدم خدمات عزل الأسطح ضد تسربات المياه باستخدام أفضل المواد المعتمدة.',
                    'content' => [
                        [
                            'title' => 'أهمية عزل الأسطح في مناخ السعودية',
                            'content' => '<p>تعاني معظم المنازل في المملكة من <strong>مشاكل تسربات المياه</strong> بسبب الأمطار والرطوبة العالية وارتفاع درجات الحرارة. يؤدي ذلك إلى تآكل السقف وظهور الرطوبة داخل المنزل. لذلك يوفر عزل الأسطح حماية طويلة الأمد تمنع وصول الماء وتحافظ على الهيكل الإنشائي.</p>'
                        ],
                        [
                            'title' => 'مواد العزل المستخدمة لدينا',
                            'content' => '<p>تعتمد رؤية الخليج على مواد عزل متنوعة مثل:</p><ul><li>العزل الأسمنتي.</li><li>العزل الإيبوكسي.</li><li>العزل باستخدام البولي يوريثان (PU Foam).</li><li>العوازل البيتومينية.</li></ul><p>جميع المواد مقاومة للحرارة والرطوبة وتتحمل الظروف الصعبة في السعودية.</p>'
                        ],
                        [
                            'title' => 'طريقة تنفيذ عزل السقف باحترافية',
                            'content' => '<p>نبدأ بتنظيف السقف ومعالجة الشقوق، ثم تطبيق طبقات العزل بطريقة هندسية تضمن توزيعًا صحيحًا للميول. بعدها نختبر العزل بالماء لمدة 24 ساعة لضمان عدم وجود أي تسريب.</p>'
                        ],
                        [
                            'title' => 'مميزات خدمة عزل الأسطح من رؤية الخليج',
                            'content' => '<p>نوفر ضمانًا مكتوبًا، استخدام مواد معتمدة، فريق متخصص، تنفيذ سريع، وأسعار مناسبة. هدفنا حماية منزلك من أي ضرر ناتج عن تسربات المياه.</p>'
                        ],
                        [
                            'title' => 'مشاريع قمنا بتنفيذها',
                            'content' => '<p>قمنا بتنفيذ عزل مئات الأسطح في الرياض وجدة والدمام، وكانت النتائج ممتازة في منع التسريب لفترات طويلة.</p>'
                        ]
                    ],
                    "meta_title" => "خدمات عزل الأسطح في السعودية - حماية فعالة ضد تسربات المياه",
                    "meta_description" => "احصل على أفضل خدمات عزل الأسطح لمنع تسربات المياه. مواد معتمدة وفريق متخصص بأسعار مناسبة.",
                    "meta_keywords" => "عزل الأسطح, تسربات المياه, عزل حراري, عزل مائي, السعودية",
                    "address" => "حي الملقى - الرياض - المملكة العربية السعودية"
                ],
                [
                    'title' => 'عزل الخزانات الأرضية والعلوية في السعودية – حماية مضمونة للمياه والخزان',
                    'slug' => 'عزل-الخزانات-الأرضية-والعلوية-في-السعودية-حماية-مضمونة-للمياه-والخزان',
                    'subtitle' => 'نقدم حلول عزل الخزانات الأرضية والعلوية باستخدام مواد إيبوكسية آمنة.',
                    'content' => [
                        [
                            'title' => 'لماذا تحتاج الخزانات إلى عزل؟',
                            'content' => '<p>الخزانات معرضة للتشققات نتيجة الضغط وارتفاع الحرارة، مما يؤدي لتسريب المياه وتلوثها. العزل الجيد يمنع التسرب ويحافظ على جودة المياه المستخدمة داخل المنزل.</p>'
                        ],
                        [
                            'title' => 'أنواع العزل المستخدمة في رؤية الخليج',
                            'content' => '<p>نستخدم مواد <strong>إيبوكسي FDA</strong> المعتمدة لصحة الإنسان، بالإضافة لعزل إسمنتي وبوليمري يمنع التفاعل مع الماء ويحافظ على الخزان من الداخل والخارج.</p>'
                        ],
                        [
                            'title' => 'خطوات عزل الخزان باحترافية',
                            'content' => '<p>نقوم بتنظيف الخزان، إزالة أي بكتيريا أو ترسبات، ثم معالجة الشقوق، وبعدها تطبيق مواد العزل الإيبوكسية بسمك مناسب لضمان أفضل تغطية.</p>'
                        ],
                        [
                            'title' => 'اختبار العزل وضمان الجودة',
                            'content' => '<p>بعد الانتهاء نجري اختبار ملء الخزان لمدة 48 ساعة للتأكد من عدم وجود أي تسريب، ثم نوفر ضمانًا مكتوبًا.</p>'
                        ],
                        [
                            'title' => 'متى يجب عليك عزل خزان منزلك؟',
                            'content' => '<p>إذا لاحظت تغيّر طعم المياه، ظهور رطوبة حول الخزان، أو نقص كمية المياه بدون سبب… فقد يكون الخزان بحاجة لعزل فوري.</p>'
                        ]
                    ],
                    "meta_title" => "عزل الخزانات الأرضية والعلوية في السعودية | عزل إيبوكسي معتمد – رؤية الخليج",
                    "meta_description" => "عزل الخزانات الأرضية والعلوية بمواد إيبوكسي معتمدة وطبقات حماية تمنع التسريب وتحافظ على جودة المياه.",
                    "meta_keywords" => "عزل الخزانات, عزل الخزانات الأرضية, عزل الخزانات العلوية, عزل إيبوكسي, السعودية",
                    "address" => "حي الملقى - الرياض - المملكة العربية السعودية"
                ],
                [
                    'title' => 'كشف تسربات المياه بدون تكسير في السعودية – باستخدام أحدث أجهزة الاستشعار الحراري',
                    'slug' => 'كشف-تسربات-المياه-بدون-تكسير-في-السعودية-باستخدام-أحدث-أجهزة-الاستشعار-الحراري',
                    'subtitle' => 'كشف دقيق للتسربات بدون أي ضرر للجدران أو الأرضيات.',
                    'content' => [
                        [
                            'title' => 'ما هي تقنية الكشف بدون تكسير؟',
                            'content' => '<p>تعتمد على التصوير الحراري وأجهزة الاستشعار التي تكشف مسار المياه داخل الجدران بدون هدم أو تكسير، مما يوفر الوقت والتكلفة ويعطي نتائج دقيقة 100%.</p>'
                        ],
                        [
                            'title' => 'أجهزة الكشف المستخدمة',
                            'content' => '<p>نستخدم أجهزة حرارية ألمانية، مجسات صوتية، أجهزة قياس ضغط المواسير، وكاميرات رطوبة عالية الحساسية لتحديد نقطة التسرب بدقة.</p>'
                        ],
                        [
                            'title' => 'علامات تدل على وجود تسرب في منزلك',
                            'content' => '<ul><li>ارتفاع فاتورة المياه بشكل غير طبيعي.</li><li>ظهور بقع رطوبة في السقف أو الجدران.</li><li>صوت مياه داخل الجدران.</li><li>ضعف ضخ المياه.</li></ul>'
                        ],
                        [
                            'title' => 'خطوات عملية الكشف',
                            'content' => '<p>نقوم بفحص الموقع، ثم استخدام أجهزة الحراري والصوتي لتتبع خط المواسير، وبعدها نحدد موقع التسريب ونقدم تقريرًا دقيقًا بالحلول المتاحة.</p>'
                        ],
                        [
                            'title' => 'الحلول المقترحة بعد الكشف',
                            'content' => '<p>قد يشمل الإصلاح: تغيير جزء صغير من المواسير، عمل حقن بوليمر، أو عزل موضعي بدون تكسير كبير. نختار الحل الأقل تكلفة والأسرع.</p>'
                        ]
                    ],
                    "meta_title" => "كشف تسربات المياه بدون تكسير في السعودية | أجهزة حرارية وصوتية دقيقة – رؤية الخليج",
                    "meta_description" => "كشف تسربات المياه بدون تكسير باستخدام أحدث الأجهزة الحرارية والصوتية. تشخيص دقيق وحلول إصلاح باحترافية.",
                    "meta_keywords" => "كشف تسربات المياه, كشف تسربات بدون تكسير, اجهزة حرارية, شركة كشف تسربات المياه",
                    "address" => "حي الملقى - الرياض - المملكة العربية السعودية"
                ],
                [
                    'title' => 'كشف تسربات المياه بدون تكسير بالرياض – حل نهائي لارتفاع فاتورة المياه',
                    'slug' => 'كشف-تسربات-المياه-بدون-تكسير-بالرياض',
                    'subtitle' => 'خدمة احترافية لكشف تسربات المياه في الرياض باستخدام أجهزة حديثة بدون تكسير مع تقرير معتمد.',
                    'content' => [
                        [
                            'title' => 'مشكلة تسربات المياه في مباني الرياض',
                            'content' => '
                                <p>
                                تُعد <strong>تسربات المياه من أخطر المشاكل</strong> التي تواجه المنازل والفلل والعمائر في مدينة الرياض، حيث تؤدي إلى أضرار جسيمة في البنية التحتية للمبنى، وارتفاع غير مبرر في فاتورة المياه، وظهور الرطوبة والعفن على الجدران والأسقف.
                                </p>
                                <p>
                                بسبب طبيعة المناخ في السعودية، وتهالك بعض شبكات السباكة، تصبح التسربات مشكلة صامتة لا يلاحظها العميل إلا بعد حدوث تلف كبير، وهنا تظهر أهمية <strong>الكشف المبكر عن تسربات المياه بدون تكسير</strong>.
                                </p>
                                ',
                            'picture' => 'default/why-1.webp'
                        ],
                        [
                            'title' => 'ما المقصود بكشف تسربات المياه بدون تكسير؟',
                            'content' => '
                                <p>كشف تسربات المياه بدون تكسير هو استخدام <strong>تقنيات وأجهزة إلكترونية حديثة</strong> تستطيع تحديد مكان التسرب بدقة عالية داخل الجدران أو الأرضيات دون الحاجة إلى تكسير البلاط أو الحوائط.</p>
                                <p>هذه الطريقة تضمن:</p>
                                <ul>
                                    <li>الحفاظ على سلامة المبنى.</li>
                                    <li>تقليل التكاليف الناتجة عن التكسير.</li>
                                    <li>سرعة تحديد المشكلة.</li>
                                    <li>حل نهائي للتسرب.</li>
                                </ul>
                            ',
                            'picture' => 'default/why-2.webp'
                        ],
                        [
                            'title' => 'الأسباب الشائعة لحدوث تسربات المياه',
                            'content' => '
                                <p>من خلال خبرتنا الطويلة في كشف تسربات المياه بالرياض، وجدنا أن أكثر الأسباب شيوعًا تشمل:</p>
                                <ul>
                                    <li>تهالك مواسير المياه الداخلية.</li>
                                    <li>سوء تنفيذ أعمال السباكة.</li>
                                    <li>ارتفاع ضغط المياه داخل الأنابيب.</li>
                                    <li>تشققات في الخزانات الأرضية أو العلوية.</li>
                                    <li>عدم وجود عزل مائي جيد للأسطح والحمامات.</li>
                                </ul>',
                            'picture' => 'default/why-3.webp'
                        ],
                        [
                            'title' => 'الأجهزة المستخدمة في كشف تسربات المياه',
                            'content' => '
                                <p>تعتمد مؤسسة رؤية الخليج على أحدث الأجهزة المعتمدة عالميًا في كشف تسربات المياه بدون تكسير، ومنها:</p>
                                <ul>
                                    <li><strong>أجهزة الاستشعار الصوتي:</strong> لتحديد صوت تسرب المياه داخل المواسير.</li>
                                    <li><strong>الكاميرات الحرارية:</strong> لكشف الفروقات الحرارية الناتجة عن التسرب.</li>
                                    <li><strong>أجهزة قياس الضغط:</strong> لمعرفة فقدان الضغط داخل شبكة المياه.</li>
                                    <li><strong>أجهزة فحص الرطوبة:</strong> لتحديد نسبة الرطوبة داخل الجدران.</li>
                                </ul>
                                <p>جميع الأجهزة يتم معايرتها بدقة لضمان نتائج صحيحة 100%.</p>',
                            'picture' => 'default/why-1.webp'
                        ],
                        [
                            'title' => 'خطوات كشف تسربات المياه لدينا',
                            'content' => '
                                <p>نلتزم في رؤية الخليج بخطوات مدروسة تضمن أفضل نتيجة:</p>
                                <ol>
                                    <li>فحص شامل لشبكة المياه.</li>
                                    <li>تحديد مكان التسرب بدقة.</li>
                                    <li>تقديم تقرير فني معتمد.</li>
                                    <li>اقتراح الحل الأنسب للإصلاح.</li>
                                    <li>تنفيذ الإصلاح في حال طلب العميل.</li>
                                </ol>'
                        ],
                        [
                            'title' => 'كشف تسربات المياه وحل مشكلة ارتفاع فاتورة المياه',
                            'content' => '
                                <p>إذا كنت تعاني من <strong>ارتفاع فاتورة المياه في الرياض</strong> بدون سبب واضح، فغالبًا يوجد تسرب مخفي داخل الجدران أو الأرضيات.</p>
                                <p>نوفر خدمة فحص دقيقة تساعدك على:</p>
                                <ul>
                                    <li>معرفة سبب الارتفاع المفاجئ.</li>
                                    <li>إيقاف الهدر فورًا.</li>
                                    <li>تقديم تقرير يمكنك استخدامه لتخفيض الفاتورة.</li>
                                </ul>'
                        ],
                        [
                            'title' => 'مميزات مؤسسة رؤية الخليج في كشف التسربات',
                            'content' => '<p>نتميز عن غيرنا في الرياض بالآتي:</p>
                                <ul>
                                    <li>فنيون متخصصون ومعتمدون.</li>
                                    <li>أجهزة كشف حديثة بدون تكسير.</li>
                                    <li>أسعار منافسة داخل الرياض.</li>
                                    <li>سرعة استجابة 24/7.</li>
                                    <li>ضمان على الخدمة.</li>
                                </ul>'
                        ],
                        [
                            'title' => 'خدماتنا تغطي جميع أحياء الرياض',
                            'content' => '<p>نقدم خدمات كشف تسربات المياه في جميع أحياء الرياض مثل: شمال الرياض، جنوب الرياض، شرق الرياض، غرب الرياض، والوسط، مع سرعة وصول وفحص فوري.</p>'
                        ]
                    ],
                    "meta_title" => "كشف تسربات المياه بدون تكسير بالرياض | شركة معتمدة",
                    "meta_description" => "شركة كشف تسربات المياه بالرياض بدون تكسير. أجهزة حديثة، تقرير معتمد، وحل نهائي لارتفاع فاتورة المياه.",
                    "meta_keywords" => "كشف تسربات المياه بالرياض, كشف تسربات بدون تكسير, شركة كشف تسربات, ارتفاع فاتورة المياه",
                    "address" => "حي الملقى - الرياض - المملكة العربية السعودية"
                ],
            ],
            'en' => [
                [
                    'title' => $faker->sentence,
                    'slug' => $faker->unique()->sentence(),
                    'subtitle' => $faker->sentence,
                    'content' => $faker->paragraphs(3, true),
                    "meta_title" => "",
                    "meta_description" => "",
                    "meta_keywords" => "",
                    "address" => "",
                ]
            ]
        ];
        for ($i = 0; $i < 4; $i++) {
            $service = Service::create([
                'picture' =>  'service_pictures/' . $pictures[$i],
                'is_featured' => true,
                'user_id' => $user->id,
            ]);

            $cats = $catsAll->random(rand(1, 3))->pluck('id');
            $service->cats()->attach($cats);

            foreach ($languages as $language) {
                $langCode = $language->code;
                ServiceTranslation::create([
                    'service_id' => $service->id,
                    'language_id' => $language->id,
                    'title' => $language->code === 'en'
                        ? $faker->unique()->sentence()
                        : $services['ar'][$i]['title'],
                    'subtitle' => $language->code === 'en'
                        ? $services['en'][0]['subtitle']
                        : $services['ar'][$i]['subtitle'],
                    'content' => $language->code === 'en'
                        ? $services['en'][0]['content']
                        : $services['ar'][$i]['content'],
                    'slug' => $language->code === 'en'
                        ? $faker->unique()->sentence()
                        : $services['ar'][$i]['slug'],
                    'meta_title' => $services['ar'][$i]['meta_title'],
                    'meta_description' => $services['ar'][$i]['meta_description'],
                    'meta_keywords' => $services['ar'][$i]['meta_keywords'],
                    'address' => $services['ar'][$i]['address'],
                ]);
            }
        }
    }
}
